import{a as V,S as p,L as b}from"./sweetalert2-HwGyHZb6.js";import{u as C,r as f,c as k,a as s,b as x,d as o,w as u,F as _,e as n,o as y,f as g}from"./index-ChMq0LXP.js";const E={id:"signUpPage",class:"bg-yellow"},F={class:"conatiner signUpPage vhContainer"},L={class:"router-wrap"},B="https://todolist-api.hexschool.io",q={__name:"SignupView",setup(U){const c=C(),l=f({email:"",password:"",nickname:""}),a=f(!1),v=()=>{a.value=!0,V.post(`${B}/users/sign_up`,l.value).then(()=>{a.value=!1,p.fire({position:"top",title:"註冊成功",icon:"success",timer:2e3,toast:!0,showConfirmButton:!1,timerProgressBar:!0}),c.push("/")}).catch(m=>{a.value=!1,p.fire({icon:"error",title:"請重試一次",text:m.response.data.message})})};return(m,e)=>{const d=n("RouterLink"),r=n("VField"),i=n("ErrorMessage"),w=n("VForm");return y(),k(_,null,[s(x(b),{active:a.value},null,8,["active"]),o("div",E,[o("div",F,[e[10]||(e[10]=o("div",{class:"side"},[o("a",{href:"#"},[o("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),o("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),o("div",null,[s(w,{class:"formControls",onSubmit:v},{default:u(()=>[o("div",L,[s(d,{to:"/",class:"router-link"},{default:u(()=>e[3]||(e[3]=[g("登入頁")])),_:1}),s(d,{to:"/signup",class:"router-link"},{default:u(()=>e[4]||(e[4]=[g("註冊頁")])),_:1})]),e[5]||(e[5]=o("h2",{class:"formControls_txt"},"註冊帳號",-1)),e[6]||(e[6]=o("label",{class:"formControls_label",for:"email"},"Email",-1)),s(r,{modelValue:l.value.email,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.email=t),class:"formControls_input",type:"email",id:"email",name:"Email",placeholder:"請輸入 email",rules:"required|email"},null,8,["modelValue"]),s(i,{name:"Email"}),e[7]||(e[7]=o("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),s(r,{modelValue:l.value.nickname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.nickname=t),class:"formControls_input",type:"text",name:"暱稱",id:"name",placeholder:"請輸入您的暱稱",rules:"required"},null,8,["modelValue"]),s(i,{name:"暱稱"}),e[8]||(e[8]=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),s(r,{modelValue:l.value.password,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.password=t),class:"formControls_input",type:"password",name:"密碼",id:"pwd",placeholder:"請輸入密碼",rules:"required|min:6"},null,8,["modelValue"]),s(i,{name:"密碼"}),e[9]||(e[9]=o("button",{type:"submit",class:"btnLink"},"註冊",-1))]),_:1})])])])],64)}}};export{q as default};
